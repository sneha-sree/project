<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hospital Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        html,
        body {
            height: 100%;
            /* Ensure html and body take full viewport height */
            margin: 0;
            padding: 0;
            overflow: hidden;
            /* Prevent body scrollbar, contentArea will handle scrolling */
        }

        body {
            display: flex;
            flex-direction: column;
            /* Arrange header, content, footer vertically */
            background-color: #f8fafc;
            /* light gray background */
        }

        #contentArea {
            flex-grow: 1;
            /* Allow content area to take all available space between header and footer */
            display: flex;
            /* Make contentArea a flex container */
            flex-direction: column;
            /* Arrange pages vertically within contentArea */
            position: relative;
            /* For absolute positioning of pages if needed, though flex is preferred */
            overflow-y: auto;
            /* Enable scrolling for the content area itself */
        }

        /* Base styles for all page content containers */
        .page-content {
            flex-shrink: 0;
            /* Prevent pages from shrinking */
            flex-grow: 1;
            /* Allow pages to grow and fill contentArea */
            width: 100%;
            min-height: 100%;
            /* Ensure pages take full height of contentArea */
            box-sizing: border-box;
            padding: 2rem;
            /* Default padding for all pages */
            display: none;
            /* Hidden by default */
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            opacity: 0;
            transform: translateY(20px);
        }

        /* Page that is currently active/shown */
        .active-page {
            display: flex;
            /* Use flex to center content within the page */
            flex-direction: column;
            /* Stack content vertically */
            align-items: center;
            justify-content: flex-start;
            /* Align items to the start, allow forms/dashboards to center themselves */
            opacity: 1;
            transform: translateY(0);
        }

        /* Specific styles for form pages to center forms */
        .form-page {
            justify-content: center;
            /* Center vertically within the page */
            align-items: center;
            /* Center horizontally within the page */
        }

        /* Styles for dashboard pages to maintain sidebar layout */
        .dashboard-page {
            flex-direction: row;
            /* Sidebar and main content side-by-side */
            align-items: flex-start;
            /* Align items to the top (sidebar and content) */
            padding: 0;
            /* Dashboards usually manage their own internal padding */
        }

        /* Fade-in animation for content transitions (now part of .active-page transition) */
        .fade-in {
            /* This class will be added to trigger the transition */
        }

        /* Specific styles for form cards to be centered */
        .form-card {
            background-color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 450px;
            /* Limit width of forms */
        }
    </style>
</head>

<body class="bg-white text-gray-800 font-sans">

    <header id="mainHeader" class="flex justify-between items-center p-6 shadow-md border-b bg-white sticky top-0 z-50">
        <h1 class="text-2xl font-bold text-blue-600">Quantum Care Network</h1>
        <nav id="mainNav" class="space-x-6">
            <a href="#" onclick="showPage('landingPage')" class="hover:text-blue-600 transition duration-300">Home</a>
            <a href="#" onclick="showPage('aboutUsPage')" class="hover:text-blue-600 transition duration-300">About Us</a>
            <a href="#" onclick="showPage('adminLogin')" class="hover:text-blue-600 transition duration-300"
                id="navAdminLogin">Admin Login</a>
            <a href="#" onclick="showPage('patientLogin')" class="hover:text-blue-600 transition duration-300"
                id="navPatientLogin">Patient Login</a>
            <a href="#" onclick="showPage('adminRegister')" class="hover:text-blue-600 transition duration-300"
                id="navAdminRegister">Admin Register</a>
            <a href="#" onclick="showPage('patientRegister')" class="hover:text-blue-600 transition duration-300"
                id="navPatientRegister">Patient Register</a>
        </nav>
        <div id="loggedInUserInfo" class="hidden text-gray-700 font-semibold flex items-center space-x-4">
            <span id="loggedInUserName"></span>
            <button onclick="logout()"
                class="bg-red-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-red-600 transition duration-300">
                Logout
            </button>
        </div>
    </header>

    <div id="contentArea">

        <div id="landingPage" class="page-content active-page">
            <h2 class="text-5xl font-extrabold text-blue-800 mb-8">Your well-being is our priority.</h2>
            <p class="text-gray-700 text-xl mb-12">Discover a new standard of care at Quantum Care Network.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl px-4">
                <div
                    class="bg-white p-8 rounded-lg shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border-b-4 border-blue-500">
                    <h3 class="text-3xl font-semibold text-blue-700 mb-4 flex items-center justify-center">
                        <i class="fas fa-user-shield mr-3 text-blue-500"></i> Administrator Access
                    </h3>
                    <p class="text-gray-600 mb-6">Manage hospital operations, doctors, and patient records.</p>
                    <div class="flex flex-col space-y-4">
                        <button onclick="showPage('adminLogin')"
                            class="bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition duration-300 flex items-center justify-center">
                            <i class="fas fa-sign-in-alt mr-2"></i> Admin Login
                        </button>
                        <button onclick="showPage('adminRegister')"
                            class="border border-blue-600 text-blue-600 font-bold py-3 px-6 rounded-lg hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition duration-300 flex items-center justify-center">
                            <i class="fas fa-user-plus mr-2"></i> Admin Register
                        </button>
                    </div>
                </div>

                <div
                    class="bg-white p-8 rounded-lg shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border-b-4 border-green-500">
                    <h3 class="text-3xl font-semibold text-green-700 mb-4 flex items-center justify-center">
                        <i class="fas fa-hospital-user mr-3 text-green-500"></i> Patient Portal
                    </h3>
                    <p class="text-gray-600 mb-6">Access your health records, appointments, and communicate with
                        doctors.</p>
                    <div class="flex flex-col space-y-4">
                        <button onclick="showPage('patientLogin')"
                            class="bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition duration-300 flex items-center justify-center">
                            <i class="fas fa-sign-in-alt mr-2"></i> Patient Login
                        </button>
                        <button onclick="showPage('patientRegister')"
                            class="border border-green-600 text-green-600 font-bold py-3 px-6 rounded-lg hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition duration-300 flex items-center justify-center">
                            <i class="fas fa-user-plus mr-2"></i> Patient Register
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="aboutUsPage" class="page-content hidden">
            <div class="bg-white p-8 rounded-lg shadow-md max-w-4xl mx-auto my-8 fade-in">
                <h1 class="text-4xl font-bold text-blue-800 mb-6 text-center">About Quantum Care Network</h1>
                <p class="text-gray-700 text-lg mb-4 leading-relaxed">
                    At **Quantum Care Network**, we are dedicated to providing compassionate, comprehensive, and cutting-edge healthcare services. Our mission is to elevate the standard of patient care through innovation, expertise, and a commitment to your well-being.
                </p>
                <p class="text-gray-700 text-lg mb-4 leading-relaxed">
                    Founded on the principles of excellence and patient-centricity, Quantum Care Network brings together a team of highly skilled doctors, nurses, and medical professionals. We utilize advanced medical technologies and evidence-based practices to ensure the best possible outcomes for every individual we serve.
                </p>
                <p class="text-gray-700 text-lg leading-relaxed">
                    We believe in a holistic approach to health, focusing not only on treating illnesses but also on promoting overall wellness and preventive care. Your trust is our greatest asset, and we strive to create a healing environment where every patient feels respected, understood, and cared for.
                </p>
                <div class="mt-8 text-center">
                    <button onclick="showPage('landingPage')"
                        class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg shadow-md transition duration-300">
                        Back to Home
                    </button>
                </div>
            </div>
        </div>

        <div id="adminLogin" class="page-content form-page hidden">
            <div class="form-card fade-in">
                <h2 class="text-3xl font-bold text-center mb-6 text-blue-700">Admin Login</h2>
                <form id="adminLoginForm" onsubmit="handleLogin(event, 'admin')" action="#" method="POST">
                    <div class="mb-4">
                        <label for="adminLoginUsername" class="block text-gray-700 text-sm font-bold mb-2">Username or
                            Email:</label>
                        <input type="text" id="adminLoginUsername" name="usernameOrEmail"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                            placeholder="Your username or email" required>
                    </div>
                    <div class="mb-6">
                        <label for="adminLoginPassword"
                            class="block text-gray-700 text-sm font-bold mb-2">Password:</label>
                        <input type="password" id="adminLoginPassword" name="password"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                            placeholder="Your password" required>
                    </div>
                    <div class="flex items-center justify-between">
                        <button type="submit"
                            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300">
                            Login
                        </button>
                        <a href="#" onclick="showPage('adminRegister')"
                            class="inline-block align-baseline font-bold text-sm text-blue-600 hover:text-blue-800">
                            Register as Admin
                        </a>
                    </div>
                    <p id="adminLoginMessage" class="text-red-500 text-xs italic mt-4"></p>
                </form>
            </div>
        </div>

        <div id="adminRegister" class="page-content form-page hidden">
            <div class="form-card fade-in">
                <h2 class="text-3xl font-bold text-center mb-6 text-blue-700">Admin Registration</h2>
                <form id="adminRegisterForm" onsubmit="handleRegister(event, 'admin')" action="#" method="POST">
                    <div class="mb-4">
                        <label for="adminRegUsername" class="block text-gray-700 text-sm font-bold mb-2">Username:</label>
                        <input type="text" id="adminRegUsername" name="username"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                            placeholder="Enter your username" required>
                    </div>
                    <div class="mb-4">
                        <label for="adminRegEmail" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                        <input type="email" id="adminRegEmail" name="email"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                            placeholder="Enter your email" required>
                    </div>
                    <div class="mb-6">
                        <label for="adminRegPassword"
                            class="block text-gray-700 text-sm font-bold mb-2">Password:</label>
                        <input type="password" id="adminRegPassword" name="password"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                            placeholder="Enter your password" required>
                    </div>
                    <div class="flex items-center justify-between">
                        <button type="submit"
                            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300">
                            Register
                        </button>
                        <a href="#" onclick="showPage('adminLogin')"
                            class="inline-block align-baseline font-bold text-sm text-blue-600 hover:text-blue-800">
                            Already have an account? Login
                        </a>
                    </div>
                    <p id="adminRegisterMessage" class="text-red-500 text-xs italic mt-4"></p>
                </form>
            </div>
        </div>

        <div id="patientLogin" class="page-content form-page hidden">
            <div class="form-card fade-in">
                <h2 class="text-3xl font-bold text-center mb-6 text-green-700">Patient Login</h2>
                <form id="patientLoginForm" onsubmit="handleLogin(event, 'patient')" action="#" method="POST">
                    <div class="mb-4">
                        <label for="patientLoginEmail" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                        <input type="email" id="patientLoginEmail" name="email"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500"
                            placeholder="Your registered email" required>
                    </div>
                    <div class="mb-6">
                        <label for="patientLoginPassword"
                            class="block text-gray-700 text-sm font-bold mb-2">Password:</label>
                        <input type="password" id="patientLoginPassword" name="password"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500"
                            placeholder="Your password" required>
                    </div>
                    <div class="flex items-center justify-between">
                        <button type="submit"
                            class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300">
                            Login
                        </button>
                        <a href="#" onclick="showPage('patientRegister')"
                            class="inline-block align-baseline font-bold text-sm text-green-600 hover:text-green-800">
                            Register as Patient
                        </a>
                    </div>
                    <p id="patientLoginMessage" class="text-red-500 text-xs italic mt-4"></p>
                </form>
            </div>
        </div>

        <div id="patientRegister" class="page-content form-page hidden">
            <div class="form-card fade-in">
                <h2 class="text-3xl font-bold text-center mb-6 text-green-700">Patient Registration</h2>
                <form id="patientRegisterForm" onsubmit="handleRegister(event, 'patient')" action="#" method="POST">
                    <div class="mb-4">
                        <label for="patientRegFullName" class="block text-gray-700 text-sm font-bold mb-2">Full
                            Name:</label>
                        <input type="text" id="patientRegFullName" name="fullName"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500"
                            placeholder="Enter your full name" required>
                    </div>
                    <div class="mb-4">
                        <label for="patientRegEmail" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                        <input type="email" id="patientRegEmail" name="email"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500"
                            placeholder="Enter your email" required>
                    </div>
                    <div class="mb-4">
                        <label for="patientRegPhone" class="block text-gray-700 text-sm font-bold mb-2">Phone
                            Number:</label>
                        <input type="tel" id="patientRegPhone" name="phone"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500"
                            placeholder="e.g., +919876543210" required>
                    </div>
                    <div class="mb-6">
                        <label for="patientRegPassword"
                            class="block text-gray-700 text-sm font-bold mb-2">Password:</label>
                        <input type="password" id="patientRegPassword" name="password"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500"
                            placeholder="Create a password" required>
                    </div>
                    <div class="flex items-center justify-between">
                        <button type="submit"
                            class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300">
                            Register
                        </button>
                        <a href="#" onclick="showPage('patientLogin')"
                            class="inline-block align-baseline font-bold text-sm text-green-600 hover:text-green-800">
                            Already have an account? Login
                        </a>
                    </div>
                    <p id="patientRegisterMessage" class="text-red-500 text-xs italic mt-4"></p>
                </form>
            </div>
        </div>

        <div id="adminDashboard" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-blue-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Admin Panel</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showAdminDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg bg-blue-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addPatient')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-plus mr-3"></i> Add New Patient
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewPatients')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-users mr-3"></i> View Patients
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addDoctor')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-md mr-3"></i> Add New Doctor
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewDoctors')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-stethoscope mr-3"></i> View Doctors
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('scheduleAppointment')"
                                class="flex items-center py-2 px-4 rounded-lg bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-plus mr-3"></i> Schedule Appointment
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> View Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addMedicalReport')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> Add Medical Report
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>

            <main id="adminDashboardContent" class="flex-1 p-8 overflow-y-auto fade-in">
                </main>
        </div>

        <div id="addPatient" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-blue-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Admin Panel</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showAdminDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addPatient')"
                                class="flex items-center py-2 px-4 rounded-lg bg-blue-700 transition duration-300">
                                <i class="fas fa-user-plus mr-3"></i> Add New Patient
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewPatients')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-users mr-3"></i> View Patients
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addDoctor')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-md mr-3"></i> Add New Doctor
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewDoctors')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-stethoscope mr-3"></i> View Doctors
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('scheduleAppointment')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-plus mr-3"></i> Schedule Appointment
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> View Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addMedicalReport')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> Add Medical Report
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="flex-1 p-8 overflow-y-auto fade-in">
                <h1 class="text-4xl font-bold text-blue-800 mb-8">Add New Patient</h1>
                <div class="bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto">
                    <form id="addPatientForm" onsubmit="handleAddPatient(event)" action="#" method="POST">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="mb-4">
                                <label for="patientFirstName" class="block text-gray-700 text-sm font-bold mb-2">First
                                    Name:</label>
                                <input type="text" id="patientFirstName" name="firstName"
                                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                    placeholder="Enter first name" required>
                            </div>
                            <div class="mb-4">
                                <label for="patientLastName" class="block text-gray-700 text-sm font-bold mb-2">Last
                                    Name:</label>
                                <input type="text" id="patientLastName" name="lastName"
                                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                    placeholder="Enter last name" required>
                            </div>
                        </div>
                        <div class="mb-4">
                            <label for="patientDateOfBirth" class="block text-gray-700 text-sm font-bold mb-2">Date of
                                Birth:</label>
                            <input type="date" id="patientDateOfBirth" name="dateOfBirth"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                required>
                        </div>
                        <div class="mb-4">
                            <label for="patientGender" class="block text-gray-700 text-sm font-bold mb-2">Gender:</label>
                            <select id="patientGender" name="gender"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                required>
                                <option value="">Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label for="patientContactNumber" class="block text-gray-700 text-sm font-bold mb-2">Contact
                                Number:</label>
                            <input type="tel" id="patientContactNumber" name="contactNumber"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                placeholder="e.g., +919876543210" required>
                        </div>
                        <div class="mb-4">
                            <label for="patientEmail" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                            <input type="email" id="patientEmail" name="email"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                placeholder="patient@example.com" required>
                        </div>
                        <div class="mb-6">
                            <label for="patientAddress" class="block text-gray-700 text-sm font-bold mb-2">Address:</label>
                            <textarea id="patientAddress" name="address" rows="3"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                placeholder="Enter patient's full address" required></textarea>
                        </div>
                        <div class="flex items-center justify-center">
                            <button type="submit"
                                class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:shadow-outline transition duration-300">
                                Add Patient
                            </button>
                        </div>
                        <p id="addPatientMessage" class="text-red-500 text-xs italic mt-4 text-center"></p>
                    </form>
                </div>
            </main>
        </div>

        <div id="viewPatients" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-blue-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Admin Panel</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showAdminDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addPatient')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-plus mr-3"></i> Add New Patient
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewPatients')"
                                class="flex items-center py-2 px-4 rounded-lg bg-blue-700 transition duration-300">
                                <i class="fas fa-users mr-3"></i> View Patients
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addDoctor')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-md mr-3"></i> Add New Doctor
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewDoctors')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-stethoscope mr-3"></i> View Doctors
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('scheduleAppointment')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-plus mr-3"></i> Schedule Appointment
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> View Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addMedicalReport')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> Add Medical Report
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="flex-1 p-8 overflow-y-auto fade-in">
                <h1 class="text-4xl font-bold text-blue-800 mb-8">All Patients</h1>
                <div class="bg-white p-8 rounded-lg shadow-md">
                    <table class="min-w-full bg-white">
                        <thead>
                            <tr class="bg-blue-100 text-blue-800 uppercase text-sm leading-normal">
                                <th class="py-3 px-6 text-left">ID</th>
                                <th class="py-3 px-6 text-left">Name</th>
                                <th class="py-3 px-6 text-left">DOB</th>
                                <th class="py-3 px-6 text-left">Gender</th>
                                <th class="py-3 px-6 text-left">Contact</th>
                                <th class="py-3 px-6 text-left">Email</th>
                                <th class="py-3 px-6 text-left">Address</th>
                                <th class="py-3 px-6 text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="patientsTableBody" class="text-gray-700 text-sm font-light">
                            </tbody>
                    </table>
                </div>
            </main>
        </div>

        <div id="addDoctor" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-blue-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Admin Panel</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showAdminDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addPatient')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-plus mr-3"></i> Add New Patient
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewPatients')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-users mr-3"></i> View Patients
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addDoctor')"
                                class="flex items-center py-2 px-4 rounded-lg bg-blue-700 transition duration-300">
                                <i class="fas fa-user-md mr-3"></i> Add New Doctor
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewDoctors')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-stethoscope mr-3"></i> View Doctors
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('scheduleAppointment')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-plus mr-3"></i> Schedule Appointment
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> View Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addMedicalReport')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> Add Medical Report
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="flex-1 p-8 overflow-y-auto fade-in">
                <h1 class="text-4xl font-bold text-blue-800 mb-8">Add New Doctor</h1>
                <div class="bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto">
                    <form id="addDoctorForm" onsubmit="handleAddDoctor(event)" action="#" method="POST">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="mb-4">
                                <label for="doctorFirstName" class="block text-gray-700 text-sm font-bold mb-2">First
                                    Name:</label>
                                <input type="text" id="doctorFirstName" name="firstName"
                                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                    placeholder="Enter first name" required>
                            </div>
                            <div class="mb-4">
                                <label for="doctorLastName" class="block text-gray-700 text-sm font-bold mb-2">Last
                                    Name:</label>
                                <input type="text" id="doctorLastName" name="lastName"
                                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                    placeholder="Enter last name" required>
                            </div>
                        </div>
                        <div class="mb-4">
                            <label for="doctorSpecialty"
                                class="block text-gray-700 text-sm font-bold mb-2">Specialty:</label>
                            <input type="text" id="doctorSpecialty" name="specialty"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                placeholder="e.g., Cardiology, Pediatrics" required>
                        </div>
                        <div class="mb-4">
                            <label for="doctorContactNumber" class="block text-gray-700 text-sm font-bold mb-2">Contact
                                Number:</label>
                            <input type="tel" id="doctorContactNumber" name="contactNumber"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                placeholder="e.g., +919876543210" required>
                        </div>
                        <div class="mb-4">
                            <label for="doctorEmail" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                            <input type="email" id="doctorEmail" name="email"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                placeholder="doctor@example.com" required>
                        </div>
                        <div class="mb-6">
                            <label for="doctorAddress" class="block text-gray-700 text-sm font-bold mb-2">Address:</label>
                            <textarea id="doctorAddress" name="address" rows="3"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                placeholder="Enter doctor's clinic address" required></textarea>
                        </div>
                        <div class="flex items-center justify-center">
                            <button type="submit"
                                class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:shadow-outline transition duration-300">
                                Add Doctor
                            </button>
                        </div>
                        <p id="addDoctorMessage" class="text-red-500 text-xs italic mt-4 text-center"></p>
                    </form>
                </div>
            </main>
        </div>

        <div id="viewDoctors" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-blue-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Admin Panel</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showAdminDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addPatient')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-plus mr-3"></i> Add New Patient
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewPatients')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-users mr-3"></i> View Patients
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addDoctor')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-md mr-3"></i> Add New Doctor
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewDoctors')"
                                class="flex items-center py-2 px-4 rounded-lg bg-blue-700 transition duration-300">
                                <i class="fas fa-stethoscope mr-3"></i> View Doctors
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('scheduleAppointment')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-plus mr-3"></i> Schedule Appointment
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> View Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addMedicalReport')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> Add Medical Report
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="flex-1 p-8 overflow-y-auto fade-in">
                <h1 class="text-4xl font-bold text-blue-800 mb-8">All Doctors</h1>
                <div class="bg-white p-8 rounded-lg shadow-md">
                    <table class="min-w-full bg-white">
                        <thead>
                            <tr class="bg-blue-100 text-blue-800 uppercase text-sm leading-normal">
                                <th class="py-3 px-6 text-left">ID</th>
                                <th class="py-3 px-6 text-left">Name</th>
                                <th class="py-3 px-6 text-left">Specialty</th>
                                <th class="py-3 px-6 text-left">Contact</th>
                                <th class="py-3 px-6 text-left">Email</th>
                                <th class="py-3 px-6 text-left">Address</th>
                                <th class="py-3 px-6 text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="doctorsTableBody" class="text-gray-700 text-sm font-light">
                            </tbody>
                    </table>
                </div>
            </main>
        </div>

        <div id="scheduleAppointment" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-blue-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Admin Panel</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showAdminDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addPatient')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-plus mr-3"></i> Add New Patient
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewPatients')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-users mr-3"></i> View Patients
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addDoctor')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-md mr-3"></i> Add New Doctor
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewDoctors')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-stethoscope mr-3"></i> View Doctors
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('scheduleAppointment')"
                                class="flex items-center py-2 px-4 rounded-lg bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-plus mr-3"></i> Schedule Appointment
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> View Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addMedicalReport')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> Add Medical Report
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="flex-1 p-8 overflow-y-auto fade-in">
                <h1 class="text-4xl font-bold text-blue-800 mb-8">Schedule New Appointment</h1>
                <div class="bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto">
                    <form id="scheduleAppointmentForm" onsubmit="handleScheduleAppointment(event)" action="#" method="POST">
                        <div class="mb-4">
                            <label for="appointmentPatientId" class="block text-gray-700 text-sm font-bold mb-2">Patient:</label>
                            <select id="appointmentPatientId" name="patientId"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                required>
                                <option value="">Select Patient</option>
                                </select>
                        </div>
                        <div class="mb-4">
                            <label for="appointmentDoctorId" class="block text-gray-700 text-sm font-bold mb-2">Doctor:</label>
                            <select id="appointmentDoctorId" name="doctorId"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                required>
                                <option value="">Select Doctor</option>
                                </select>
                        </div>
                        <div class="mb-4">
                            <label for="appointmentDate" class="block text-gray-700 text-sm font-bold mb-2">Date:</label>
                            <input type="date" id="appointmentDate" name="date"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                required>
                        </div>
                        <div class="mb-6">
                            <label for="appointmentTime" class="block text-gray-700 text-sm font-bold mb-2">Time:</label>
                            <input type="time" id="appointmentTime" name="time"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                required>
                        </div>
                        <div class="flex items-center justify-center">
                            <button type="submit"
                                class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:shadow-outline transition duration-300">
                                Schedule Appointment
                            </button>
                        </div>
                        <p id="scheduleAppointmentMessage" class="text-red-500 text-xs italic mt-4 text-center"></p>
                    </form>
                </div>
            </main>
        </div>

        <div id="viewAppointments" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-blue-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Admin Panel</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showAdminDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addPatient')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-plus mr-3"></i> Add New Patient
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewPatients')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-users mr-3"></i> View Patients
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addDoctor')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-md mr-3"></i> Add New Doctor
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewDoctors')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-stethoscope mr-3"></i> View Doctors
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('scheduleAppointment')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-plus mr-3"></i> Schedule Appointment
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> View Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addMedicalReport')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> Add Medical Report
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="flex-1 p-8 overflow-y-auto fade-in">
                <h1 class="text-4xl font-bold text-blue-800 mb-8">All Appointments</h1>
                <div class="bg-white p-8 rounded-lg shadow-md">
                    <table class="min-w-full bg-white">
                        <thead>
                            <tr class="bg-blue-100 text-blue-800 uppercase text-sm leading-normal">
                                <th class="py-3 px-6 text-left">ID</th>
                                <th class="py-3 px-6 text-left">Patient Name</th>
                                <th class="py-3 px-6 text-left">Doctor Name</th>
                                <th class="py-3 px-6 text-left">Date</th>
                                <th class="py-3 px-6 text-left">Time</th>
                                <th class="py-3 px-6 text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="appointmentsTableBody" class="text-gray-700 text-sm font-light">
                            </tbody>
                    </table>
                </div>
            </main>
        </div>

        <div id="addMedicalReport" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-blue-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Admin Panel</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showAdminDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addPatient')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-plus mr-3"></i> Add New Patient
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewPatients')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-users mr-3"></i> View Patients
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addDoctor')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-md mr-3"></i> Add New Doctor
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewDoctors')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-stethoscope mr-3"></i> View Doctors
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('scheduleAppointment')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-plus mr-3"></i> Schedule Appointment
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> View Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addMedicalReport')"
                                class="flex items-center py-2 px-4 rounded-lg bg-blue-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> Add Medical Report
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="flex-1 p-8 overflow-y-auto fade-in">
                <h1 class="text-4xl font-bold text-blue-800 mb-8">Add New Medical Report</h1>
                <div class="bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto">
                    <form id="addMedicalReportForm" onsubmit="handleAddMedicalReport(event)" action="#" method="POST">
                        <div class="mb-4">
                            <label for="reportPatientId" class="block text-gray-700 text-sm font-bold mb-2">Patient:</label>
                            <select id="reportPatientId" name="patientId"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                required>
                                <option value="">Select Patient</option>
                                </select>
                        </div>
                        <div class="mb-4">
                            <label for="reportDoctorId" class="block text-gray-700 text-sm font-bold mb-2">Doctor:</label>
                            <select id="reportDoctorId" name="doctorId"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                required>
                                <option value="">Select Doctor</option>
                                </select>
                        </div>
                        <div class="mb-4">
                            <label for="reportDate" class="block text-gray-700 text-sm font-bold mb-2">Date:</label>
                            <input type="date" id="reportDate" name="date"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                required>
                        </div>
                        <div class="mb-6">
                            <label for="reportDetails" class="block text-gray-700 text-sm font-bold mb-2">Report
                                Details:</label>
                            <textarea id="reportDetails" name="details" rows="5"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500"
                                placeholder="Enter details of the medical report (e.g., diagnosis, prescriptions, lab results)"
                                required></textarea>
                        </div>
                        <div class="flex items-center justify-center">
                            <button type="submit"
                                class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:shadow-outline transition duration-300">
                                Add Report
                            </button>
                        </div>
                        <p id="addMedicalReportMessage" class="text-red-500 text-xs italic mt-4 text-center"></p>
                    </form>
                </div>
            </main>
        </div>

        <div id="viewMedicalReports" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-blue-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Admin Panel</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showAdminDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addPatient')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-plus mr-3"></i> Add New Patient
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewPatients')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-users mr-3"></i> View Patients
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addDoctor')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-user-md mr-3"></i> Add New Doctor
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewDoctors')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-stethoscope mr-3"></i> View Doctors
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('scheduleAppointment')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-plus mr-3"></i> Schedule Appointment
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('viewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> View Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('addMedicalReport')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> Add Medical Report
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="flex-1 p-8 overflow-y-auto fade-in">
                <h1 class="text-4xl font-bold text-blue-800 mb-8">All Medical Reports</h1>
                <div class="bg-white p-8 rounded-lg shadow-md">
                    <table class="min-w-full bg-white">
                        <thead>
                            <tr class="bg-blue-100 text-blue-800 uppercase text-sm leading-normal">
                                <th class="py-3 px-6 text-left">Report ID</th>
                                <th class="py-3 px-6 text-left">Patient Name</th>
                                <th class="py-3 px-6 text-left">Doctor Name</th>
                                <th class="py-3 px-6 text-left">Date</th>
                                <th class="py-3 px-6 text-left">Details</th>
                                <th class="py-3 px-6 text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="medicalReportsTableBody" class="text-gray-700 text-sm font-light">
                            </tbody>
                    </table>
                </div>
            </main>
        </div>


        <div id="patientDashboard" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-green-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Patient Portal</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showPatientDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg bg-green-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('patientViewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> My Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('patientViewMedicalReports')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> My Medical Reports
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main id="patientDashboardContent" class="flex-1 p-8 overflow-y-auto fade-in">
                </main>
        </div>

        <div id="patientViewAppointments" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-green-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Patient Portal</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showPatientDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('patientViewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg bg-green-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> My Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('patientViewMedicalReports')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> My Medical Reports
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="flex-1 p-8 overflow-y-auto fade-in">
                <h1 class="text-4xl font-bold text-green-800 mb-8">My Appointments</h1>
                <div class="bg-white p-8 rounded-lg shadow-md">
                    <table class="min-w-full bg-white">
                        <thead>
                            <tr class="bg-green-100 text-green-800 uppercase text-sm leading-normal">
                                <th class="py-3 px-6 text-left">ID</th>
                                <th class="py-3 px-6 text-left">Doctor Name</th>
                                <th class="py-3 px-6 text-left">Date</th>
                                <th class="py-3 px-6 text-left">Time</th>
                                <th class="py-3 px-6 text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="patientAppointmentsTableBody" class="text-gray-700 text-sm font-light">
                            </tbody>
                    </table>
                </div>
            </main>
        </div>

        <div id="patientViewMedicalReports" class="page-content dashboard-page hidden">
            <aside class="w-64 bg-green-800 text-white p-6 shadow-lg">
                <h2 class="text-3xl font-bold mb-8 text-center">Patient Portal</h2>
                <nav>
                    <ul>
                        <li class="mb-4">
                            <a href="#" onclick="showPatientDashboardContent('overview')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300">
                                <i class="fas fa-home mr-3"></i> Dashboard
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('patientViewAppointments')"
                                class="flex items-center py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300">
                                <i class="fas fa-calendar-check mr-3"></i> My Appointments
                            </a>
                        </li>
                        <li class="mb-4">
                            <a href="#" onclick="showPage('patientViewMedicalReports')"
                                class="flex items-center py-2 px-4 rounded-lg bg-green-700 transition duration-300">
                                <i class="fas fa-file-medical-alt mr-3"></i> My Medical Reports
                            </a>
                        </li>
                        <li class="mt-8">
                            <a href="#" onclick="logout()"
                                class="flex items-center py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition duration-300">
                                <i class="fas fa-sign-out-alt mr-3"></i> Logout
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>
            <main class="flex-1 p-8 overflow-y-auto fade-in">
                <h1 class="text-4xl font-bold text-green-800 mb-8">My Medical Reports</h1>
                <div class="bg-white p-8 rounded-lg shadow-md">
                    <table class="min-w-full bg-white">
                        <thead>
                            <tr class="bg-green-100 text-green-800 uppercase text-sm leading-normal">
                                <th class="py-3 px-6 text-left">Report ID</th>
                                <th class="py-3 px-6 text-left">Doctor Name</th>
                                <th class="py-3 px-6 text-left">Date</th>
                                <th class="py-3 px-6 text-left">Details</th>
                            </tr>
                        </thead>
                        <tbody id="patientMedicalReportsTableBody" class="text-gray-700 text-sm font-light">
                            </tbody>
                    </table>
                </div>
            </main>
        </div>

    </div> <footer class="bg-gray-800 text-white p-4 text-center text-sm shadow-inner mt-auto">
        <p>&copy; 2025 Quantum Care Network. All rights reserved.</p>
    </footer>

    <script>
        // --- Data Storage (using localStorage) ---
        let admins = [];
        let patients = [];
        let doctors = [];
        let appointments = [];
        let medicalReports = [];

        // Variable to hold the currently logged-in user
        let loggedInUser = null; // { type: 'admin'/'patient', id: '...', name: '...' }

        // Function to load data from localStorage
        function loadDataFromLocalStorage() {
            try {
                const storedAdmins = localStorage.getItem('admins');
                if (storedAdmins) {
                    admins = JSON.parse(storedAdmins);
                }

                const storedPatients = localStorage.getItem('patients');
                if (storedPatients) {
                    patients = JSON.parse(storedPatients);
                }

                const storedDoctors = localStorage.getItem('doctors');
                if (storedDoctors) {
                    doctors = JSON.parse(storedDoctors);
                }

                const storedAppointments = localStorage.getItem('appointments');
                if (storedAppointments) {
                    appointments = JSON.parse(storedAppointments);
                }

                const storedMedicalReports = localStorage.getItem('medicalReports');
                if (storedMedicalReports) {
                    medicalReports = JSON.parse(storedMedicalReports);
                }

                const storedLoggedInUser = localStorage.getItem('loggedInUser');
                if (storedLoggedInUser) {
                    loggedInUser = JSON.parse(storedLoggedInUser);
                    updateHeaderForLoggedInUser();
                    // Automatically show dashboard if a user is logged in
                    if (loggedInUser.type === 'admin') {
                        showPage('adminDashboard');
                        showAdminDashboardContent('overview');
                    } else if (loggedInUser.type === 'patient') {
                        showPage('patientDashboard');
                        showPatientDashboardContent('overview');
                    }
                }
            } catch (e) {
                console.error("Error loading data from localStorage:", e);
                // Clear corrupted data if parsing fails
                localStorage.clear();
            }
        }

        // Function to save data to localStorage
        function saveDataToLocalStorage() {
            localStorage.setItem('admins', JSON.stringify(admins));
            localStorage.setItem('patients', JSON.stringify(patients));
            localStorage.setItem('doctors', JSON.stringify(doctors));
            localStorage.setItem('appointments', JSON.stringify(appointments));
            localStorage.setItem('medicalReports', JSON.stringify(medicalReports));
            if (loggedInUser) {
                localStorage.setItem('loggedInUser', JSON.stringify(loggedInUser));
            } else {
                localStorage.removeItem('loggedInUser');
            }
        }

        // Generate a simple unique ID
        function generateUniqueId(prefix = '') {
            return prefix + Date.now() + Math.floor(Math.random() * 1000);
        }

        // --- UI Navigation ---
        let currentPageId = 'landingPage';

        function showPage(pageId) {
            const contentArea = document.getElementById('contentArea');
            const allPages = contentArea.querySelectorAll('.page-content');
            const mainNav = document.getElementById('mainNav');
            const loggedInUserInfo = document.getElementById('loggedInUserInfo');

            // Hide all pages and remove active class
            allPages.forEach(page => {
                page.classList.remove('active-page');
                page.classList.add('hidden');
            });

            // Show the requested page and add active class for transition
            const activePage = document.getElementById(pageId);
            if (activePage) {
                activePage.classList.remove('hidden');
                setTimeout(() => { // Small delay to allow 'display' change before transition
                    activePage.classList.add('active-page');
                }, 10);
            }

            currentPageId = pageId;

            // Handle header visibility based on page
            if (pageId.includes('Dashboard')) {
                mainNav.classList.add('hidden');
                loggedInUserInfo.classList.remove('hidden');
            } else {
                mainNav.classList.remove('hidden');
                loggedInUserInfo.classList.add('hidden');
            }

            // Specific updates for certain pages
            if (pageId === 'viewPatients') {
                displayPatients();
            } else if (pageId === 'viewDoctors') {
                displayDoctors();
            } else if (pageId === 'scheduleAppointment') {
                populatePatientDoctorDropdowns();
            } else if (pageId === 'viewAppointments') {
                displayAppointments();
            } else if (pageId === 'addMedicalReport') {
                populatePatientDoctorDropdownsForReport();
            } else if (pageId === 'viewMedicalReports') {
                displayMedicalReports();
            } else if (pageId === 'patientViewAppointments') {
                displayPatientAppointments();
            } else if (pageId === 'patientViewMedicalReports') {
                displayPatientMedicalReports();
            }
            // Ensure dashboard content is loaded if navigating directly to dashboard
            else if (pageId === 'adminDashboard') {
                showAdminDashboardContent('overview');
            } else if (pageId === 'patientDashboard') {
                showPatientDashboardContent('overview');
            }
        }

        // --- Authentication ---
        function handleRegister(event, userType) {
            event.preventDefault();
            let messageElement;
            let formData;

            if (userType === 'admin') {
                formData = new FormData(document.getElementById('adminRegisterForm'));
                messageElement = document.getElementById('adminRegisterMessage');
                const username = formData.get('username');
                const email = formData.get('email');
                const password = formData.get('password');

                if (admins.find(admin => admin.username === username || admin.email === email)) {
                    messageElement.textContent = 'Username or Email already exists.';
                    messageElement.classList.remove('text-green-500');
                    messageElement.classList.add('text-red-500');
                    return;
                }

                admins.push({
                    id: generateUniqueId('admin-'),
                    username,
                    email,
                    password
                });
                messageElement.textContent = 'Admin registration successful! Please login.';
                messageElement.classList.remove('text-red-500');
                messageElement.classList.add('text-green-500');
                document.getElementById('adminRegisterForm').reset();
                saveDataToLocalStorage();
                setTimeout(() => showPage('adminLogin'), 1500);

            } else if (userType === 'patient') {
                formData = new FormData(document.getElementById('patientRegisterForm'));
                messageElement = document.getElementById('patientRegisterMessage');
                const fullName = formData.get('fullName');
                const email = formData.get('email');
                const phone = formData.get('phone');
                const password = formData.get('password');

                if (patients.find(patient => patient.email === email || patient.phone === phone)) {
                    messageElement.textContent = 'Email or Phone Number already registered.';
                    messageElement.classList.remove('text-green-500');
                    messageElement.classList.add('text-red-500');
                    return;
                }

                patients.push({
                    id: generateUniqueId('patient-'),
                    fullName,
                    email,
                    phone,
                    password
                });
                messageElement.textContent = 'Patient registration successful! Please login.';
                messageElement.classList.remove('text-red-500');
                messageElement.classList.add('text-green-500');
                document.getElementById('patientRegisterForm').reset();
                saveDataToLocalStorage();
                setTimeout(() => showPage('patientLogin'), 1500);
            }
        }

        function handleLogin(event, userType) {
            event.preventDefault();
            let messageElement;
            let success = false;
            let userFound = null;

            if (userType === 'admin') {
                const usernameOrEmail = document.getElementById('adminLoginUsername').value;
                const password = document.getElementById('adminLoginPassword').value;
                messageElement = document.getElementById('adminLoginMessage');

                userFound = admins.find(admin =>
                    (admin.username === usernameOrEmail || admin.email === usernameOrEmail) &&
                    admin.password === password
                );

                if (userFound) {
                    loggedInUser = {
                        type: 'admin',
                        id: userFound.id,
                        name: userFound.username
                    };
                    success = true;
                }

            } else if (userType === 'patient') {
                const email = document.getElementById('patientLoginEmail').value;
                const password = document.getElementById('patientLoginPassword').value;
                messageElement = document.getElementById('patientLoginMessage');

                userFound = patients.find(patient =>
                    patient.email === email && patient.password === password
                );

                if (userFound) {
                    loggedInUser = {
                        type: 'patient',
                        id: userFound.id,
                        name: userFound.fullName
                    };
                    success = true;
                }
            }

            if (success) {
                messageElement.textContent = 'Login successful!';
                messageElement.classList.remove('text-red-500');
                messageElement.classList.add('text-green-500');
                updateHeaderForLoggedInUser();
                saveDataToLocalStorage(); // Save logged-in user state

                // Redirect to respective dashboard
                if (loggedInUser.type === 'admin') {
                    setTimeout(() => {
                        showPage('adminDashboard');
                        showAdminDashboardContent('overview'); // Load default dashboard content
                    }, 500);
                } else if (loggedInUser.type === 'patient') {
                    setTimeout(() => {
                        showPage('patientDashboard');
                        showPatientDashboardContent('overview'); // Load default dashboard content
                    }, 500);
                }
            } else {
                messageElement.textContent = 'Invalid credentials.';
                messageElement.classList.remove('text-green-500');
                messageElement.classList.add('text-red-500');
                loggedInUser = null;
                saveDataToLocalStorage(); // Clear logged-in user state
            }
        }

        function logout() {
            loggedInUser = null;
            saveDataToLocalStorage(); // Clear logged-in user from localStorage
            updateHeaderForLoggedInUser();
            showPage('landingPage'); // Go back to landing page
        }

        function updateHeaderForLoggedInUser() {
            const mainNav = document.getElementById('mainNav');
            const loggedInUserInfo = document.getElementById('loggedInUserInfo');
            const loggedInUserNameSpan = document.getElementById('loggedInUserName');

            if (loggedInUser) {
                mainNav.classList.add('hidden');
                loggedInUserInfo.classList.remove('hidden');
                loggedInUserNameSpan.textContent = `Welcome, ${loggedInUser.name}`;
            } else {
                mainNav.classList.remove('hidden');
                loggedInUserInfo.classList.add('hidden');
                loggedInUserNameSpan.textContent = '';
            }
        }

        // --- Admin Dashboard Specific Functions ---
        function showAdminDashboardContent(contentType) {
            const adminDashboardMain = document.getElementById('adminDashboardContent');
            adminDashboardMain.innerHTML = ''; // Clear previous content

            // Remove active classes from sidebar nav items
            const navLinks = document.querySelectorAll('#adminDashboard aside nav ul li a');
            navLinks.forEach(link => link.classList.remove('bg-blue-700'));

            let contentHTML = '';
            let activeNavLinkId = '';

            if (contentType === 'overview') {
                const totalPatients = patients.length;
                const totalDoctors = doctors.length;
                const totalAppointments = appointments.length;
                const totalAdmins = admins.length; // Including self

                contentHTML = `
                    <h1 class="text-4xl font-bold text-blue-800 mb-8">Admin Dashboard Overview</h1>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-lg shadow-md flex items-center justify-between">
                            <div>
                                <h3 class="text-2xl font-bold">Total Patients</h3>
                                <p class="text-4xl font-extrabold">${totalPatients}</p>
                            </div>
                            <i class="fas fa-users text-5xl opacity-75"></i>
                        </div>
                        <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-lg shadow-md flex items-center justify-between">
                            <div>
                                <h3 class="text-2xl font-bold">Total Doctors</h3>
                                <p class="text-4xl font-extrabold">${totalDoctors}</p>
                            </div>
                            <i class="fas fa-user-md text-5xl opacity-75"></i>
                        </div>
                        <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-lg shadow-md flex items-center justify-between">
                            <div>
                                <h3 class="text-2xl font-bold">Total Appointments</h3>
                                <p class="text-4xl font-extrabold">${totalAppointments}</p>
                            </div>
                            <i class="fas fa-calendar-check text-5xl opacity-75"></i>
                        </div>
                         <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 text-white p-6 rounded-lg shadow-md flex items-center justify-between">
                            <div>
                                <h3 class="text-2xl font-bold">Total Admins</h3>
                                <p class="text-4xl font-extrabold">${totalAdmins}</p>
                            </div>
                            <i class="fas fa-user-shield text-5xl opacity-75"></i>
                        </div>
                    </div>

                    <div class="mt-10 bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-3xl font-bold text-blue-800 mb-6">Quick Actions</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <button onclick="showPage('addPatient')" class="bg-blue-100 text-blue-700 py-3 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-blue-200 transition duration-300">
                                <i class="fas fa-user-plus"></i> <span>Add Patient</span>
                            </button>
                            <button onclick="showPage('addDoctor')" class="bg-green-100 text-green-700 py-3 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-green-200 transition duration-300">
                                <i class="fas fa-user-md"></i> <span>Add Doctor</span>
                            </button>
                            <button onclick="showPage('scheduleAppointment')" class="bg-purple-100 text-purple-700 py-3 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-purple-200 transition duration-300">
                                <i class="fas fa-calendar-plus"></i> <span>Schedule Appointment</span>
                            </button>
                            <button onclick="showPage('viewPatients')" class="bg-gray-100 text-gray-700 py-3 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-gray-200 transition duration-300">
                                <i class="fas fa-users"></i> <span>View Patients</span>
                            </button>
                            <button onclick="showPage('viewDoctors')" class="bg-gray-100 text-gray-700 py-3 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-gray-200 transition duration-300">
                                <i class="fas fa-stethoscope"></i> <span>View Doctors</span>
                            </button>
                            <button onclick="showPage('viewAppointments')" class="bg-gray-100 text-gray-700 py-3 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-gray-200 transition duration-300">
                                <i class="fas fa-calendar-check"></i> <span>View Appointments</span>
                            </button>
                        </div>
                    </div>
                `;
                // Find and activate the "Dashboard" link
                activeNavLinkId = 'adminDashboard aside nav ul li:nth-child(1) a';

            }
            // You can add more contentType cases here for specific dashboard sections
            // For now, we're relying on showPage for other forms/tables.

            adminDashboardMain.innerHTML = contentHTML;
            if (activeNavLinkId) {
                document.querySelector(activeNavLinkId).classList.add('bg-blue-700');
            }
        }

        // --- Patient Dashboard Specific Functions ---
        function showPatientDashboardContent(contentType) {
            const patientDashboardMain = document.getElementById('patientDashboardContent');
            patientDashboardMain.innerHTML = ''; // Clear previous content

            // Remove active classes from sidebar nav items
            const navLinks = document.querySelectorAll('#patientDashboard aside nav ul li a');
            navLinks.forEach(link => link.classList.remove('bg-green-700'));

            let contentHTML = '';
            let activeNavLinkId = '';

            if (contentType === 'overview') {
                const patientAppointments = appointments.filter(app => app.patientId === loggedInUser.id);
                const patientReports = medicalReports.filter(rep => rep.patientId === loggedInUser.id);

                contentHTML = `
                    <h1 class="text-4xl font-bold text-green-800 mb-8">Patient Dashboard Overview</h1>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-lg shadow-md flex items-center justify-between">
                            <div>
                                <h3 class="text-2xl font-bold">Your Appointments</h3>
                                <p class="text-4xl font-extrabold">${patientAppointments.length}</p>
                            </div>
                            <i class="fas fa-calendar-alt text-5xl opacity-75"></i>
                        </div>
                        <div class="bg-gradient-to-r from-teal-500 to-teal-600 text-white p-6 rounded-lg shadow-md flex items-center justify-between">
                            <div>
                                <h3 class="text-2xl font-bold">Your Medical Reports</h3>
                                <p class="text-4xl font-extrabold">${patientReports.length}</p>
                            </div>
                            <i class="fas fa-file-medical text-5xl opacity-75"></i>
                        </div>
                    </div>

                    <div class="mt-10 bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-3xl font-bold text-green-800 mb-6">Quick Access</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button onclick="showPage('patientViewAppointments')" class="bg-green-100 text-green-700 py-3 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-green-200 transition duration-300">
                                <i class="fas fa-calendar-check"></i> <span>View My Appointments</span>
                            </button>
                            <button onclick="showPage('patientViewMedicalReports')" class="bg-teal-100 text-teal-700 py-3 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-teal-200 transition duration-300">
                                <i class="fas fa-file-medical-alt"></i> <span>View My Medical Reports</span>
                            </button>
                        </div>
                    </div>
                `;
                // Find and activate the "Dashboard" link
                activeNavLinkId = 'patientDashboard aside nav ul li:nth-child(1) a';
            }

            patientDashboardMain.innerHTML = contentHTML;
            if (activeNavLinkId) {
                document.querySelector(activeNavLinkId).classList.add('bg-green-700');
            }
        }


        // --- Patient Management ---
        function handleAddPatient(event) {
            event.preventDefault();
            const form = document.getElementById('addPatientForm');
            const messageElement = document.getElementById('addPatientMessage');
            const formData = new FormData(form);

            const newPatient = {
                id: generateUniqueId('P-'),
                firstName: formData.get('firstName'),
                lastName: formData.get('lastName'),
                dateOfBirth: formData.get('dateOfBirth'),
                gender: formData.get('gender'),
                contactNumber: formData.get('contactNumber'),
                email: formData.get('email'),
                address: formData.get('address'),
                password: 'password123' // Default password for newly added patients by admin
            };

            // Check if patient email or contact already exists
            if (patients.some(p => p.email === newPatient.email || p.contactNumber === newPatient.contactNumber)) {
                messageElement.textContent = 'A patient with this email or contact number already exists.';
                messageElement.classList.remove('text-green-500');
                messageElement.classList.add('text-red-500');
                return;
            }

            patients.push(newPatient);
            saveDataToLocalStorage();
            messageElement.textContent = 'Patient added successfully!';
            messageElement.classList.remove('text-red-500');
            messageElement.classList.add('text-green-500');
            form.reset();
            console.log('Patients:', patients); // For debugging
        }

        function displayPatients() {
            const tableBody = document.getElementById('patientsTableBody');
            tableBody.innerHTML = ''; // Clear existing rows

            patients.forEach(patient => {
                const row = `
                    <tr class="border-b border-gray-200 hover:bg-gray-100">
                        <td class="py-3 px-6 text-left whitespace-nowrap">${patient.id}</td>
                        <td class="py-3 px-6 text-left">${patient.firstName} ${patient.lastName}</td>
                        <td class="py-3 px-6 text-left">${patient.dateOfBirth}</td>
                        <td class="py-3 px-6 text-left">${patient.gender}</td>
                        <td class="py-3 px-6 text-left">${patient.contactNumber}</td>
                        <td class="py-3 px-6 text-left">${patient.email}</td>
                        <td class="py-3 px-6 text-left">${patient.address}</td>
                        <td class="py-3 px-6 text-center">
                            <button onclick="editPatient('${patient.id}')" class="text-blue-600 hover:text-blue-800 mx-1">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deletePatient('${patient.id}')" class="text-red-600 hover:text-red-800 mx-1">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </td>
                    </tr>
                `;
                tableBody.insertAdjacentHTML('beforeend', row);
            });
        }

        function editPatient(patientId) {
            alert('Edit functionality for patient ID: ' + patientId + ' (Not implemented yet)');
            // In a real application, you'd load patient data into a form for editing.
        }

        function deletePatient(patientId) {
            if (confirm('Are you sure you want to delete this patient?')) {
                patients = patients.filter(patient => patient.id !== patientId);
                saveDataToLocalStorage();
                displayPatients(); // Refresh the table
                alert('Patient deleted successfully!');
            }
        }

        // --- Doctor Management ---
        function handleAddDoctor(event) {
            event.preventDefault();
            const form = document.getElementById('addDoctorForm');
            const messageElement = document.getElementById('addDoctorMessage');
            const formData = new FormData(form);

            const newDoctor = {
                id: generateUniqueId('D-'),
                firstName: formData.get('firstName'),
                lastName: formData.get('lastName'),
                specialty: formData.get('specialty'),
                contactNumber: formData.get('contactNumber'),
                email: formData.get('email'),
                address: formData.get('address')
            };

            // Check if doctor email or contact already exists
            if (doctors.some(d => d.email === newDoctor.email || d.contactNumber === newDoctor.contactNumber)) {
                messageElement.textContent = 'A doctor with this email or contact number already exists.';
                messageElement.classList.remove('text-green-500');
                messageElement.classList.add('text-red-500');
                return;
            }

            doctors.push(newDoctor);
            saveDataToLocalStorage();
            messageElement.textContent = 'Doctor added successfully!';
            messageElement.classList.remove('text-red-500');
            messageElement.classList.add('text-green-500');
            form.reset();
            console.log('Doctors:', doctors); // For debugging
        }

        function displayDoctors() {
            const tableBody = document.getElementById('doctorsTableBody');
            tableBody.innerHTML = ''; // Clear existing rows

            doctors.forEach(doctor => {
                const row = `
                    <tr class="border-b border-gray-200 hover:bg-gray-100">
                        <td class="py-3 px-6 text-left whitespace-nowrap">${doctor.id}</td>
                        <td class="py-3 px-6 text-left">${doctor.firstName} ${doctor.lastName}</td>
                        <td class="py-3 px-6 text-left">${doctor.specialty}</td>
                        <td class="py-3 px-6 text-left">${doctor.contactNumber}</td>
                        <td class="py-3 px-6 text-left">${doctor.email}</td>
                        <td class="py-3 px-6 text-left">${doctor.address}</td>
                        <td class="py-3 px-6 text-center">
                            <button onclick="editDoctor('${doctor.id}')" class="text-blue-600 hover:text-blue-800 mx-1">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteDoctor('${doctor.id}')" class="text-red-600 hover:text-red-800 mx-1">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </td>
                    </tr>
                `;
                tableBody.insertAdjacentHTML('beforeend', row);
            });
        }

        function editDoctor(doctorId) {
            alert('Edit functionality for doctor ID: ' + doctorId + ' (Not implemented yet)');
        }

        function deleteDoctor(doctorId) {
            if (confirm('Are you sure you want to delete this doctor?')) {
                doctors = doctors.filter(doctor => doctor.id !== doctorId);
                // Also remove any appointments associated with this doctor
                appointments = appointments.filter(app => app.doctorId !== doctorId);
                medicalReports = medicalReports.filter(rep => rep.doctorId !== doctorId);
                saveDataToLocalStorage();
                displayDoctors(); // Refresh the table
                displayAppointments(); // Refresh appointments table as well
                displayMedicalReports(); // Refresh medical reports table
                alert('Doctor and associated data deleted successfully!');
            }
        }

        // --- Appointment Management ---
        function populatePatientDoctorDropdowns() {
            const patientDropdown = document.getElementById('appointmentPatientId');
            const doctorDropdown = document.getElementById('appointmentDoctorId');

            // Clear existing options
            patientDropdown.innerHTML = '<option value="">Select Patient</option>';
            doctorDropdown.innerHTML = '<option value="">Select Doctor</option>';

            patients.forEach(patient => {
                const option = document.createElement('option');
                option.value = patient.id;
                option.textContent = `${patient.firstName} ${patient.lastName} (ID: ${patient.id})`;
                patientDropdown.appendChild(option);
            });

            doctors.forEach(doctor => {
                const option = document.createElement('option');
                option.value = doctor.id;
                option.textContent = `${doctor.firstName} ${doctor.lastName} (${doctor.specialty}) (ID: ${doctor.id})`;
                doctorDropdown.appendChild(option);
            });
        }

        function handleScheduleAppointment(event) {
            event.preventDefault();
            const form = document.getElementById('scheduleAppointmentForm');
            const messageElement = document.getElementById('scheduleAppointmentMessage');
            const formData = new FormData(form);

            const patientId = formData.get('patientId');
            const doctorId = formData.get('doctorId');
            const date = formData.get('date');
            const time = formData.get('time');

            const patient = patients.find(p => p.id === patientId);
            const doctor = doctors.find(d => d.id === doctorId);

            if (!patient || !doctor) {
                messageElement.textContent = 'Invalid Patient or Doctor selected.';
                messageElement.classList.remove('text-green-500');
                messageElement.classList.add('text-red-500');
                return;
            }

            const newAppointment = {
                id: generateUniqueId('A-'),
                patientId,
                patientName: `${patient.firstName} ${patient.lastName}`,
                doctorId,
                doctorName: `${doctor.firstName} ${doctor.lastName}`,
                date,
                time
            };

            appointments.push(newAppointment);
            saveDataToLocalStorage();
            messageElement.textContent = 'Appointment scheduled successfully!';
            messageElement.classList.remove('text-red-500');
            messageElement.classList.add('text-green-500');
            form.reset();
            console.log('Appointments:', appointments); // For debugging
        }

        function displayAppointments() {
            const tableBody = document.getElementById('appointmentsTableBody');
            tableBody.innerHTML = ''; // Clear existing rows

            appointments.forEach(app => {
                const row = `
                    <tr class="border-b border-gray-200 hover:bg-gray-100">
                        <td class="py-3 px-6 text-left whitespace-nowrap">${app.id}</td>
                        <td class="py-3 px-6 text-left">${app.patientName}</td>
                        <td class="py-3 px-6 text-left">${app.doctorName}</td>
                        <td class="py-3 px-6 text-left">${app.date}</td>
                        <td class="py-3 px-6 text-left">${app.time}</td>
                        <td class="py-3 px-6 text-center">
                            <button onclick="editAppointment('${app.id}')" class="text-blue-600 hover:text-blue-800 mx-1">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteAppointment('${app.id}')" class="text-red-600 hover:text-red-800 mx-1">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </td>
                    </tr>
                `;
                tableBody.insertAdjacentHTML('beforeend', row);
            });
        }

        function editAppointment(appointmentId) {
            alert('Edit functionality for appointment ID: ' + appointmentId + ' (Not implemented yet)');
        }

        function deleteAppointment(appointmentId) {
            if (confirm('Are you sure you want to delete this appointment?')) {
                appointments = appointments.filter(app => app.id !== appointmentId);
                saveDataToLocalStorage();
                displayAppointments(); // Refresh the table
                alert('Appointment deleted successfully!');
            }
        }

        // --- Medical Report Management ---
        function populatePatientDoctorDropdownsForReport() {
            const patientDropdown = document.getElementById('reportPatientId');
            const doctorDropdown = document.getElementById('reportDoctorId');

            // Clear existing options
            patientDropdown.innerHTML = '<option value="">Select Patient</option>';
            doctorDropdown.innerHTML = '<option value="">Select Doctor</option>';

            patients.forEach(patient => {
                const option = document.createElement('option');
                option.value = patient.id;
                option.textContent = `${patient.firstName} ${patient.lastName} (ID: ${patient.id})`;
                patientDropdown.appendChild(option);
            });

            doctors.forEach(doctor => {
                const option = document.createElement('option');
                option.value = doctor.id;
                option.textContent = `${doctor.firstName} ${doctor.lastName} (${doctor.specialty}) (ID: ${doctor.id})`;
                doctorDropdown.appendChild(option);
            });
        }

        function handleAddMedicalReport(event) {
            event.preventDefault();
            const form = document.getElementById('addMedicalReportForm');
            const messageElement = document.getElementById('addMedicalReportMessage');
            const formData = new FormData(form);

            const patientId = formData.get('patientId');
            const doctorId = formData.get('doctorId');
            const date = formData.get('date');
            const details = formData.get('details');

            const patient = patients.find(p => p.id === patientId);
            const doctor = doctors.find(d => d.id === doctorId);

            if (!patient || !doctor) {
                messageElement.textContent = 'Invalid Patient or Doctor selected.';
                messageElement.classList.remove('text-green-500');
                messageElement.classList.add('text-red-500');
                return;
            }

            const newReport = {
                id: generateUniqueId('MR-'),
                patientId,
                patientName: `${patient.firstName} ${patient.lastName}`,
                doctorId,
                doctorName: `${doctor.firstName} ${doctor.lastName}`,
                date,
                details
            };

            medicalReports.push(newReport);
            saveDataToLocalStorage();
            messageElement.textContent = 'Medical Report added successfully!';
            messageElement.classList.remove('text-red-500');
            messageElement.classList.add('text-green-500');
            form.reset();
            console.log('Medical Reports:', medicalReports); // For debugging
        }

        function displayMedicalReports() {
            const tableBody = document.getElementById('medicalReportsTableBody');
            tableBody.innerHTML = ''; // Clear existing rows

            medicalReports.forEach(report => {
                const row = `
                    <tr class="border-b border-gray-200 hover:bg-gray-100">
                        <td class="py-3 px-6 text-left whitespace-nowrap">${report.id}</td>
                        <td class="py-3 px-6 text-left">${report.patientName}</td>
                        <td class="py-3 px-6 text-left">${report.doctorName}</td>
                        <td class="py-3 px-6 text-left">${report.date}</td>
                        <td class="py-3 px-6 text-left">${report.details.substring(0, 50)}...</td>
                        <td class="py-3 px-6 text-center">
                            <button onclick="viewMedicalReportDetails('${report.id}')" class="text-blue-600 hover:text-blue-800 mx-1">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button onclick="deleteMedicalReport('${report.id}')" class="text-red-600 hover:text-red-800 mx-1">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </td>
                    </tr>
                `;
                tableBody.insertAdjacentHTML('beforeend', row);
            });
        }

        function viewMedicalReportDetails(reportId) {
            const report = medicalReports.find(r => r.id === reportId);
            if (report) {
                alert(`Medical Report Details (ID: ${report.id})\n\nPatient: ${report.patientName}\nDoctor: ${report.doctorName}\nDate: ${report.date}\n\nDetails:\n${report.details}`);
            } else {
                alert('Report not found.');
            }
        }

        function deleteMedicalReport(reportId) {
            if (confirm('Are you sure you want to delete this medical report?')) {
                medicalReports = medicalReports.filter(report => report.id !== reportId);
                saveDataToLocalStorage();
                displayMedicalReports(); // Refresh the table
                alert('Medical Report deleted successfully!');
            }
        }

        // --- Patient Specific Views ---
        function displayPatientAppointments() {
            const tableBody = document.getElementById('patientAppointmentsTableBody');
            tableBody.innerHTML = ''; // Clear existing rows

            if (!loggedInUser || loggedInUser.type !== 'patient') {
                tableBody.innerHTML = '<tr><td colspan="5" class="py-3 px-6 text-center text-red-500">Please log in as a patient to view your appointments.</td></tr>';
                return;
            }

            const patientAppointments = appointments.filter(app => app.patientId === loggedInUser.id);

            if (patientAppointments.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="5" class="py-3 px-6 text-center text-gray-500">No appointments found.</td></tr>';
                return;
            }

            patientAppointments.forEach(app => {
                const row = `
                    <tr class="border-b border-gray-200 hover:bg-gray-100">
                        <td class="py-3 px-6 text-left whitespace-nowrap">${app.id}</td>
                        <td class="py-3 px-6 text-left">${app.doctorName}</td>
                        <td class="py-3 px-6 text-left">${app.date}</td>
                        <td class="py-3 px-6 text-left">${app.time}</td>
                        <td class="py-3 px-6 text-center">
                            <button onclick="cancelAppointment('${app.id}')" class="text-red-600 hover:text-red-800 mx-1">
                                <i class="fas fa-times-circle"></i> Cancel
                            </button>
                        </td>
                    </tr>
                `;
                tableBody.insertAdjacentHTML('beforeend', row);
            });
        }

        function cancelAppointment(appointmentId) {
            if (confirm('Are you sure you want to cancel this appointment?')) {
                appointments = appointments.filter(app => app.id !== appointmentId);
                saveDataToLocalStorage();
                displayPatientAppointments(); // Refresh the table
                alert('Appointment cancelled successfully!');
            }
        }

        function displayPatientMedicalReports() {
            const tableBody = document.getElementById('patientMedicalReportsTableBody');
            tableBody.innerHTML = ''; // Clear existing rows

            if (!loggedInUser || loggedInUser.type !== 'patient') {
                tableBody.innerHTML = '<tr><td colspan="4" class="py-3 px-6 text-center text-red-500">Please log in as a patient to view your medical reports.</td></tr>';
                return;
            }

            const patientReports = medicalReports.filter(report => report.patientId === loggedInUser.id);

            if (patientReports.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="4" class="py-3 px-6 text-center text-gray-500">No medical reports found.</td></tr>';
                return;
            }

            patientReports.forEach(report => {
                const row = `
                    <tr class="border-b border-gray-200 hover:bg-gray-100">
                        <td class="py-3 px-6 text-left whitespace-nowrap">${report.id}</td>
                        <td class="py-3 px-6 text-left">${report.doctorName}</td>
                        <td class="py-3 px-6 text-left">${report.date}</td>
                        <td class="py-3 px-6 text-left">${report.details.substring(0, 100)}...</td>
                    </tr>
                `;
                tableBody.insertAdjacentHTML('beforeend', row);
            });
        }


        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', () => {
            loadDataFromLocalStorage();
            updateHeaderForLoggedInUser();
            // Show the landing page by default if no user is logged in
            if (!loggedInUser) {
                showPage('landingPage');
            }
        });
    </script>
</body>

</html>